# vsftpd (Very Secure FTP Daemon) configuration for WordPress file management

# Enable IPv4 listening
listen=YES

# Disable IPv6 (not needed for this project)
listen_ipv6=NO

# Disable anonymous FTP access (security)
anonymous_enable=NO

# Enable local user login (ftpuser can connect)
local_enable=YES

# Allow users to upload/modify files
write_enable=YES

# Default permissions for uploaded files (022 = readable by all, writable by owner)
local_umask=022

# Show message when entering a directory
dirmessage_enable=YES

# Use local time for logs (not GMT)
use_localtime=YES

# Enable transfer logging
xferlog_enable=YES

# Connect from port 20 for active FTP mode (traditional FTP)
connect_from_port_20=YES

# Jail users to their home directory (security - can't access other directories)
chroot_local_user=YES

# Secure chroot directory (empty directory for security)
secure_chroot_dir=/var/run/vsftpd/empty

# PAM service name for authentication
pam_service_name=vsftpd

# Enable passive mode (required for FTP through firewalls/NAT)
pasv_enable=YES

# Passive mode port range (opened in docker-compose.yaml)
pasv_min_port=21000
pasv_max_port=21010

# Passive mode address (0.0.0.0 = accept from any interface)
pasv_address=0.0.0.0

# Enable user list (only users in list can login)
userlist_enable=YES

# Path to user list file
userlist_file=/etc/vsftpd.userlist

# NO means only users IN the list can login (whitelist, not blacklist)
userlist_deny=NO

# Allow chroot with writable root directory (needed for WordPress file editing)
allow_writeable_chroot=YES
